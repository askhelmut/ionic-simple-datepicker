/*! ionic-simple-datepicker.js v0.0.1 10-11-2015 */

!function(a,b,c,d){"use strict";var e,f,g=function(){};e=b.module("simple-datepicker",[]),e.directive("simpleDatepicker",[function(){var a="YYYY-MM-DD",b="MMMM YY",d=7,e="<",f=">",g="X";return{restrict:"E",template:'<div class="simple-datepicker"><div class="simple-datepicker__month-picker"><div class="button-bar"><button class="button" ng-click="goToPreviousMonth()" ng-disabled="! hasPrevMonth()" ng-bind="prevButtonLabel"></button><button class="button" ng-click="goToNextMonth()" ng-disabled="! hasNextMonth()" ng-bind="nextButtonLabel"></button></div></div><div class="simple-datepicker__month"><h1 ng-bind="getCurrentMonth()"></h1></div><div class="simple-datepicker__calendar"><div class="simple-datepicker__calendar__date-header" ng-bind="weekday" ng-repeat="weekday in weekdays track by $index"></div><div class="simple-datepicker__calendar__date" ng-repeat="day in days track by $index" ng-class="{ \'simple-datepicker__calendar__date--not-current-month\': ! day.isInCurrentMonth, \'simple-datepicker__calendar__date--not-in-timeframe\': ! day.isInTimeframe, \'simple-datepicker__calendar__date--selected\': day.date == current, \'simple-datepicker__calendar__date--not-active\': ! day.active }" ng-bind="day.label" ng-click="setSelectedDay(day)"></div></div><div class="simple-datepicker__footer"><button class="button button-full simple-datepicker__footer__close" ng-bind="closeButtonLabel" ng-click="close()"></button></div></div>',scope:{initial:"=",from:"=",to:"=",format:"=",labels:"=",activeDays:"=",onSelected:"&",onClose:"&"},link:function(h){var i;for(h.days=[],h.weekdays=[],h.prevButtonLabel=e,h.nextButtonLabel=f,h.closeButtonLabel=g,i=0;d>i;i++)h.weekdays.push(c().weekday(i).format("dd"));h.setSelectedDay=function(a){a.active&&(h.current=a.date)},h.goToPreviousMonth=function(){h.focus=c(h.focus).subtract(1,"month").format()},h.goToNextMonth=function(){h.focus=c(h.focus).add(1,"month").format()},h.hasPrevMonth=function(){return h.from?c(h.focus).startOf("month").isAfter(h.from):!0},h.hasNextMonth=function(){return h.to?c(h.focus).endOf("month").isBefore(h.to):!0},h.getCurrentMonth=function(){return c(h.focus).format(b)},h.close=function(){h.onClose({current:c(h.current).format()})},h.$watch("labels",function(a){a&&(h.prevButtonLabel=a.prevButton||e,h.nextButtonLabel=a.nextButton||f,h.closeButtonLabel=a.closeButton||g)}),h.$watch("format",function(b){b||(h.format=a)}),h.$watch("initial",function(b){!b||b&&!c(b).isValid()?h.current=c().format(a):h.current=c(b,h.format).format(a),h.focus=h.current}),h.$watch("current",function(a){h.onSelected({current:c(a).format()})}),h.$watch("activeDays",function(a){a?h.activeDays=a:h.activeDays=null}),h.$watch("focus",function(b){var d,e,f,g,j,k,l,m;for(g=[],j=c(b).startOf("month").weekday(0),m=c(b).format("MM"),i=0;c(j).isBefore(c(b).endOf("month"));)j=c(b).startOf("month").weekday(i),k=j.format(a),l=k.split("-"),d={date:k,label:l[2],isInCurrentMonth:l[1]===m,active:!h.activeDays||h.activeDays.indexOf(k)>-1},e=h.from?j.isAfter(h.from)||j.isSame(h.from):!0,f=h.to?j.isBefore(h.to)||j.isSame(h.to):!0,d.isInTimeframe=e&&f,g.push(d),i++;h.days=g})}}}]),f=b.module("ionic-simple-datepicker",["ionic","simple-datepicker"]),f.factory("simpleDatepickerPopover",["$rootScope","$q","$timeout","$ionicPopover",function(a,d,e,f){function h(){return b.isDefined(j)&&j.isShown()}var i,j,k="slide-in-up";return i={show:function(h,i){var l,m,n,o,p;return m=g,n=d.defer(),o=i||{},p={animation:k,focusFirstInput:!1,backdropClickToClose:!0,hardwareBackButtonClose:!0},b.extend(p,o),p.scope=i&&i.scope&&i.scope.$new()||a.$new(!0),j=f.fromTemplate('<ion-popover-view class="simple-datepicker-popover"><ion-content scroll="false"><simple-datepicker from="from" to="to" initial="initial" active-days="activeDays" on-selected="_onSelected(current)" on-close="_onClose(current)" labels="labels"></simple-datepicker></ion-content></ion-popover-view>',p),j.scope.$on("$destroy",function(){j.remove()}),j.scope.$on("popover.hidden",function(){n.resolve({current:l}),e(function(){j.remove()})}),i&&(i.initial&&c(i.initial).isValid()&&(j.scope.initial=i.initial,l=c(i.initial).format()),i.format&&b.isString(i.format)&&(j.scope.format=i.format),i.from&&c(i.from).isValid()&&(j.scope.from=i.from),i.to&&c(i.to).isValid()&&(j.scope.to=i.to),i.onSelected&&b.isFunction(i.onSelected)&&(m=i.onSelected),i.activeDays&&b.isArray(i.activeDays)&&i.activeDays.length>0&&(j.scope.activeDays=i.activeDays),i.labels&&b.isObject(i.labels)&&(j.scope.labels=i.labels)),j.scope._onSelected=function(a){l!==a&&(m({current:a}),l=a)},j.scope._onClose=function(a){l=a,j.hide()},j.show(h),n.promise},hide:function(){return h()?(j.hide(),!0):!1},isShown:function(){return h()}}}])}(window,window.angular,window.moment);
//# sourceMappingURL=ionic-simple-datepicker.min.map