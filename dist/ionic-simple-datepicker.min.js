/*! ionic-simple-datepicker.js v0.0.1 04-11-2015 */

!function(a,b,c,d){"use strict";var e=b.module("ionic-simple-datepicker",["ionic"]);e.factory("simpleDatepickerPopover",["$rootScope","$q","$timeout","$ionicPopover",function(a,d,e,f){var g,h,i="slide-in-up",j=function(){};return g={show:function(e,g){var k,l={animation:g&&g.animation||i,scope:g&&g.scope&&g.scope.$new()||a.$new(!0)},m=j,n=d.defer();return h=f.fromTemplate('<ion-popover-view class="simple-datepicker-popover"><ion-content scroll="false"><simple-datepicker from="from" to="to" initial="initial" active-days="activeDays" on-selected="_onSelected(current)"></simple-datepicker></ion-content></ion-popover-view>',l),h.scope.$on("$destroy",function(){h.remove()}),h.scope.$on("popover.hidden",function(){n.resolve({current:k})}),g&&(g.initial&&c(g.initial).isValid()&&(h.scope.initial=g.initial,k=c(g.initial).format()),g.format&&b.isString(g.format)&&(h.scope.format=g.format),g.from&&c(g.from).isValid()&&(h.scope.from=g.from),g.to&&c(g.to).isValid()&&(h.scope.to=g.to),g.onSelected&&b.isFunction(g.onSelected)&&(m=g.onSelected),g.activeDays&&b.isArray(g.activeDays)&&g.activeDays.length>0&&(h.scope.activeDays=g.activeDays)),h.scope._onSelected=function(a){k!==a&&(m({current:a}),k=a)},h.show(e),n.promise}}}]),e.directive("simpleDatepicker",[function(){var a="YYYY-MM-DD",b=7,d="<",e=">";return{restrict:"E",template:'<div class="simple-datepicker"><div class="simple-datepicker__month-picker"><div class="button-bar"><button class="button" ng-click="goToPreviousMonth()" ng-disabled="! hasPrevMonth()" ng-bind="prevButtonLabel"></button><button class="button" ng-click="goToNextMonth()" ng-disabled="! hasNextMonth()" ng-bind="nextButtonLabel"></button></div></div><div class="simple-datepicker__month"><h1 ng-bind="getCurrentMonth()"></h1></div><div class="simple-datepicker__calendar"><div class="simple-datepicker__calendar__date-header" ng-bind="weekday" ng-repeat="weekday in weekdays track by $index"></div><div class="simple-datepicker__calendar__date" ng-repeat="day in days track by $index" ng-class="{ \'simple-datepicker__calendar__date--not-current-month\': ! day.isInCurrentMonth, \'simple-datepicker__calendar__date--not-in-timeframe\': ! day.isInTimeframe, \'simple-datepicker__calendar__date--selected\': day.date == current, \'simple-datepicker__calendar__date--not-active\': ! day.active }" ng-bind="day.label" ng-click="setSelectedDay(day)"></div></div></div>',scope:{initial:"=",from:"=",to:"=",format:"=",activeDays:"=",onSelected:"&"},link:function(f){var g;for(f.days=[],f.weekdays=[],f.prevButtonLabel=d,f.nextButtonLabel=e,g=0;b>g;g++)f.weekdays.push(c().weekday(g).format("dd"));f.setSelectedDay=function(a){a.active&&(f.current=a.date)},f.goToPreviousMonth=function(){f.focus=c(f.focus).subtract(1,"month").format()},f.goToNextMonth=function(){f.focus=c(f.focus).add(1,"month").format()},f.hasPrevMonth=function(){return f.from?c(f.focus).startOf("month").isAfter(f.from):!0},f.hasNextMonth=function(){return f.to?c(f.focus).endOf("month").isBefore(f.to):!0},f.getCurrentMonth=function(){return c(f.focus).format("MMMM YY")},f.$watch("format",function(b){b||(f.format=a)}),f.$watch("initial",function(a){!a||a&&!c(a).isValid()?f.current=c().format("YYYY-MM-DD"):f.current=c(a,f.format).format("YYYY-MM-DD"),f.focus=f.current}),f.$watch("current",function(a){f.onSelected({current:c(a).format()})}),f.$watch("activeDays",function(a){a?f.activeDays=a:f.activeDays=null}),f.$watch("focus",function(a){var b,d,e,h,i,j,k,l;for(h=[],i=c(a).startOf("month").day(0),l=c(a).format("MM"),g=0;c(i).isBefore(c(a).endOf("month"));)i=c(a).startOf("month").day(g),j=i.format("YYYY-MM-DD"),k=j.split("-"),b={date:j,label:k[2],isInCurrentMonth:k[1]===l,active:!f.activeDays||f.activeDays.indexOf(j)>-1},d=f.from?i.isAfter(f.from):!0,e=f.to?i.isBefore(f.to):!0,b.isInTimeframe=d&&e,h.push(b),g++;f.days=h})}}}])}(window,window.angular,window.moment);
//# sourceMappingURL=ionic-simple-datepicker.min.map