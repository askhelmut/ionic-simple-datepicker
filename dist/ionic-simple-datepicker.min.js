/*! ionic-simple-datepicker.js v0.0.1 28-10-2015 */

!function(a,b,c,d){"use strict";var e=b.module("ionic-simple-datepicker",["ionic"]);e.factory("simpleDatepickerPopover",["$rootScope","$q","$timeout","$ionicPopover",function(a,d,e,f){var g,h,i="slide-in-up",j=function(){};return g={show:function(e,g){var k,l={animation:g&&g.animation||i,scope:g&&g.scope&&g.scope.$new()||a.$new(!0)},m=j,n=d.defer();return h=f.fromTemplate('<ion-popover-view class="simple-datepicker-popover"><ion-content scroll="false"><simple-datepicker from="from" to="to" initial="initial" on-selected="_onSelected(current)"></simple-datepicker></ion-content></ion-popover-view>',l),h.scope.$on("$destroy",function(){h.remove()}),h.scope.$on("popover.hidden",function(){n.resolve({current:k})}),g&&(g.initial&&c(g.initial).isValid()&&(h.scope.initial=g.initial),g.format&&b.isString(g.format)&&(h.scope.format=g.format),g.from&&c(g.from).isValid()&&(h.scope.from=g.from),g.to&&c(g.to).isValid()&&(h.scope.to=g.to),g.onSelected&&b.isFunction(g.onSelected)&&(m=g.onSelected)),h.scope._onSelected=function(a){k=a,m({current:a})},h.show(e),n.promise}}}]),e.directive("simpleDatepicker",[function(){var a="YYYY-MM-DD",b=7;return{restrict:"E",template:'<div class="simple-datepicker"><div class="simple-datepicker__month-picker"><div class="button-bar"><a class="button" ng-click="previousMonth()">Prev</a><a class="button" ng-click="nextMonth()">Next</a></div></div><div class="simple-datepicker__month"><h1 ng-bind="currentMonth()"></h1></div><div class="simple-datepicker__calendar"><div class="simple-datepicker__calendar__date-header" ng-bind="weekday" ng-repeat="weekday in weekdays track by $index"></div><div class="simple-datepicker__calendar__date" ng-repeat="day in days track by $index" ng-class="{ \'simple-datepicker__calendar__date--not-current-month\': ! day.isInCurrentMonth, \'simple-datepicker__calendar__date--not-in-timeframe\': ! day.isInTimeframe, \'simple-datepicker__calendar__date--selected\': day.date == current }" ng-bind="day.label" ng-click="select(day)"></div></div></div>',scope:{from:"=",to:"=",initial:"=",format:"=",onSelected:"&"},link:function(d){var e;for(d.days=[],d.weekdays=[],e=0;b>e;e++)d.weekdays.push(c().weekday(e).format("dd"));d.select=function(a){d.current=a.date},d.previousMonth=function(){d.focus=c(d.focus).subtract(1,"month").format()},d.nextMonth=function(){d.focus=c(d.focus).add(1,"month").format()},d.currentMonth=function(){return c(d.focus).format("MMMM YY")},d.$watch("format",function(b){b||(d.format=a)}),d.$watch("initial",function(a){!a||a&&!c(a).isValid()?d.current=c().format("YYYY-MM-DD"):d.current=c(a,d.format).format("YYYY-MM-DD"),d.focus=d.current}),d.$watch("current",function(a){d.onSelected({current:c(a).format()})}),d.$watch("focus",function(a){var b,f,g,h,i,j,k,l;for(h=[],i=c(a).startOf("month").day(0),l=c(a).format("MM"),e=0;c(i).isBefore(c(a).endOf("month"));)i=c(a).startOf("month").day(e),j=i.format("YYYY-MM-DD"),k=j.split("-"),b={date:j,label:k[2],isInCurrentMonth:k[1]===l},f=d.from?i.isAfter(d.from):!0,g=d.to?i.isBefore(d.to):!0,b.isInTimeframe=f&&g,h.push(b),e++;d.days=h})}}}])}(window,window.angular,window.moment);
//# sourceMappingURL=ionic-simple-datepicker.min.map