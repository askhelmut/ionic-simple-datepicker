/*! ionic-simple-datepicker.js v0.0.1 27-10-2015 */

!function(a,b,c){"use strict";var d=b.module("ionic-simple-datepicker",["ionic"]);d.factory("simpleDatepickerPopover",["$rootScope","$q","$timeout","$ionicPopover",function(a,c,d,e){var f,g,h="slide-in-up",i=function(){};return f={show:function(d,f){var j,k={animation:f&&f.animation||h,scope:f&&f.scope&&f.scope.$new()||a.$new(!0)},l=i,m=c.defer();return g=e.fromTemplate('<ion-popover-view><ion-content scroll="false"><simple-datepicker from="from" to="to" initial="initial" on-selected="_onSelected(current)"></simple-datepicker></ion-content></ion-popover-view>',k),g.scope.$on("$destroy",function(){g.remove()}),g.scope.$on("popover.hidden",function(){m.resolve({current:j})}),f&&(f.initial&&moment(f.initial).isValid()&&(g.scope.initial=f.initial),f.format&&b.isString(f.format)&&(g.scope.format=f.format),f.from&&moment(f.from).isValid()&&(g.scope.from=f.from),f.to&&moment(f.to).isValid()&&(g.scope.to=f.to),f.onSelected&&b.isFunction(f.onSelected)&&(l=f.onSelected)),g.scope._onSelected=function(a){j=a,l({current:a})},g.show(d),m.promise}}}]),d.directive("simpleDatepicker",[function(){var a="YYYY-MM-DD",b=7,c=4;return{restrict:"E",template:'<div class="simple-datepicker"><div class="simple-datepicker__month-picker"><div class="button-bar"><a class="button" ng-click="previousMonth()">Prev</a><a class="button" ng-click="nextMonth()">Next</a></div></div><div class="simple-datepicker__month"><h1 ng-bind="currentMonth()"></h1></div><div class="simple-datepicker__calendar"><div class="simple-datepicker__calendar__date-header" ng-bind="weekday" ng-repeat="weekday in weekdays track by $index"></div><div class="simple-datepicker__calendar__date" ng-repeat="day in days track by $index" ng-class="{ \'simple-datepicker__calendar__date--not-current-month\': ! day.isInCurrentMonth, \'simple-datepicker__calendar__date--selected\': day.date == current }" ng-bind="day.label" ng-click="select(day)"></div></div></div>',scope:{from:"=",to:"=",initial:"=",format:"=",onSelected:"&"},link:function(d,e,f){var g;for(d.days=[],d.weekdays=[],g=0;b>g;g++)d.weekdays.push(moment().weekday(g).format("dd"));d.select=function(a){d.current=a.date},d.previousMonth=function(){d.focus=moment(d.focus).subtract(1,"month").format()},d.nextMonth=function(){d.focus=moment(d.focus).add(1,"month").format()},d.currentMonth=function(){return moment(d.focus).format("MMMM YY")},d.$watch("format",function(b){b||(d.format=a)}),d.$watch("initial",function(a){!a||a&&!moment(a).isValid()?d.current=moment().format():d.current=moment(a,d.format).format(),d.focus=d.current}),d.$watch("current",function(a){d.onSelected({current:moment(a).format()})}),d.$watch("focus",function(a){var e,f;for(e=[],g=0;b*c>g;g++)f=moment(a).startOf("month").day(g),e.push({date:f.format(),label:f.format("DD"),isInCurrentMonth:f.isSame(d.focus,"month")});d.days=e})}}}])}(window,window.angular);
//# sourceMappingURL=ionic-simple-datepicker.min.map